{% extends "base.html" %}
{% import 'heading.html' as Heading %}
{% import 'projects/widgets/project_list.html' as ProjectList %}

{% block title %}Pontoon &middot; Project Overview{% endblock %}

{% block class %}projects{% endblock %}

{% block heading %}
  {{ Heading.heading(title='Project Overview') }}
{% endblock %}

{% block bottom %}
<section id="main" class="clearfix">
  <div class="container">
    <menu class="controls">
      <div class="search-wrapper clearfix">
        <div class="icon fa fa-search"></div>
        <input class="table-filter" type="search" autocomplete="off" autofocus placeholder="Filter projects">
      </div>
    </menu>

    {{ ProjectList.header() }}

    {% for project in projects %}
      {% set main_link = url('pontoon.projects.project', project.slug) %}
      {% set chart_link = url('pontoon.projects.project', project.slug) %}
      {% set latest_activity = project.get_latest_activity() %}
      {% set chart = project.get_chart() %}

      {{ ProjectList.item(project, main_link, chart_link, latest_activity, chart) }}
    {% endfor %}

    {{ ProjectList.footer() }}
  </div>
</section>
{% endblock %}

{% block extend_css %}
  {% stylesheet 'projects' %}
{% endblock %}

{% block extend_js %}
  {% javascript 'projects' %}
{% endblock %}
